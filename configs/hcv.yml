seed: 42

dataset:
  type: real
  path: data/hcv.csv
  mapping: {}

features:
  id: institution_id
  numeric:
    # Aggregated patient characteristics (means)
    - Age_mean
    - ALB_mean           # Mean albumin
    - ALP_mean           # Mean alkaline phosphatase
    - AST_mean           # Mean aspartate aminotransferase
    - BIL_mean           # Mean bilirubin
    - CHE_mean           # Mean cholinesterase
    - CHOL_mean          # Mean cholesterol
    - CREA_mean          # Mean creatinine
    - CGT_mean           # Mean gamma-GT
    - PROT_mean          # Mean total protein
    - ALT_mean           # Mean alanine aminotransferase
    # Variability within institution (stds)
    - Age_std
    - ALB_std
    - ALP_std
    - AST_std
    - BIL_std
    - CHE_std
    - CHOL_std
    - CREA_std
    - CGT_std
    - PROT_std
    - ALT_std
    # Institution size
    - n_patients
  categorical:
    - Sex_mode           # Most common sex in institution

targets:
  kpis:
    - target_rate        # HCV disease prevalence (% non-blood-donors)
    - target_std         # Variability in outcomes
  descriptors:
    - Sex_mode
    - n_patients

preprocessing:
  categorical_encoding: ordinal

representation: mixed_encoded

consensus:
  n_bootstraps: 50
  numeric_jitter_scale: 0.05
  feature_bootstrap: true
  sample_fraction: 1.0
  mixed_weight: 0.5

benchmark:
  outlier_percentile_low: 5
  outlier_percentile_high: 95
  outlier_zscore_abs: 2.0
  knn_k:
    - 3
    - 5
    - 7

perturbation:
  enabled: true
  n_runs: 30
  n_institutions: 1
  kpis:
    - target_rate
  shift:
    type: additive
    magnitude_min: 0.1
    magnitude_max: 0.3
    magnitudes: [0.1, 0.2, 0.3]

selection:
  k_values: [2, 3, 4, 5, 6]
  min_cluster_size: 2
  stability_plateau_delta: 0.05

output:
  tables_dir: reports/hcv/tables
  figures_dir: reports/hcv/figures
  summary_path: reports/hcv/summary.json
